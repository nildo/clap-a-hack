(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e){e.exports=JSON.parse('[{"emoji":"\ud83d\udc4f","id":"clap"},{"emoji":"\ud83d\ude02","id":"laugh"},{"emoji":"\ud83c\udf45","id":"boo"}]')},304:function(e,n,t){},543:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t(0),o=t.n(i),c=t(16),a=t.n(c),s=(t(304),t(95)),l=t(18),u=t(17),d=t(10),j=t(11),b=t(547),x=t(294),v=t(548),p=t(103),O=t(297),f=t(46),h=t(270),m={r:255,g:0,b:0,a:100},g={currentPresentation:-1,presentations:[],reactions:{},users:[],resultsVisible:!1},y={socket:void 0,startConnection:function(){},nickname:"",setNickname:function(){},setUserColor:function(){},userColor:m,roomState:g},C=Object(i.createContext)(y),w=function(e){var n=e.children,t=Object(i.useState)(),o=Object(u.a)(t,2),c=o[0],a=o[1],s=Object(i.useState)(""),l=Object(u.a)(s,2),d=l[0],j=l[1],b=Object(i.useState)(m),x=Object(u.a)(b,2),v=x[0],p=x[1],y=Object(i.useState)(g),w=Object(u.a)(y,2),k=w[0],S=w[1];return Object(i.useEffect)((function(){null===c||void 0===c||c.on("stateUpdate",(function(e){S(e),console.log("Data",e)})),null===c||void 0===c||c.on("addPresentation",(function(e){S(Object(f.a)(Object(f.a)({},k),{},{presentations:[].concat(Object(O.a)(k.presentations),[{name:e,reactions:{}}])}))})),null===c||void 0===c||c.on("setActivePresentation",(function(e){S(Object(f.a)(Object(f.a)({},k),{},{currentPresentation:e}))})),null===c||void 0===c||c.on("showResults",(function(){S(Object(f.a)(Object(f.a)({},k),{},{resultsVisible:!0}))}))}),[c]),Object(r.jsx)(C.Provider,{value:{socket:c,startConnection:function(e){var n=Object(h.io)("",{query:{room:e,user:d,color:JSON.stringify(v)}});a(n)},nickname:d,setNickname:j,userColor:v,setUserColor:p,roomState:k},children:n})},k=t(292);function S(){var e=Object(d.a)(["\n  width: 36px;\n  height: 14px;\n  border-radius: 2px;\n"]);return S=function(){return e},e}function T(){var e=Object(d.a)(["\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n"]);return T=function(){return e},e}function F(){var e=Object(d.a)(["\n  position: absolute;\n  z-index: 2;\n  background-color: white;\n"]);return F=function(){return e},e}function P(){var e=Object(d.a)(["\n  padding: 5px;\n  background: #fff;\n  border-radius: 1px;\n  box-shadow: 0 0 0 1px rgba(0,0,0,.1);\n  display: inline-block;\n  cursor: pointer;\n"]);return P=function(){return e},e}var E=j.a.div(P()),A=j.a.div(F()),N=j.a.div(T()),I=j.a.div.attrs((function(e){var n=e.userColor,t=n.r,r=n.g,i=n.b,o=n.a;return{style:{backgroundColor:"rgba(".concat(t,",").concat(r,",").concat(i,",").concat(o,")")}}}))(S());function U(e){var n=e.userColor,t=e.setUserColor,o=Object(i.useState)(!1),c=Object(u.a)(o,2),a=c[0],s=c[1];return Object(r.jsxs)("div",{style:{position:"relative"},children:[Object(r.jsx)(E,{onClick:function(){return s(!a)},children:Object(r.jsx)(I,{userColor:n})}),a?Object(r.jsxs)(A,{children:[Object(r.jsx)(N,{onClick:function(){return s(!1)}}),Object(r.jsx)(k.a,{color:n,onChange:function(e){return t(e.rgb)}})]}):null]})}function R(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]);return R=function(){return e},e}function D(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 12px 0;\n"]);return D=function(){return e},e}var L=b.a.Title,z=function(){var e=Object(i.useContext)(C),n=e.nickname,t=e.setNickname,o=e.userColor,c=e.setUserColor;return Object(r.jsxs)(Y,{children:[Object(r.jsx)(L,{level:5,style:{margin:0,padding:0},children:"Write your name and pick color"}),Object(r.jsxs)(B,{children:[Object(r.jsx)(v.a,{placeholder:"Nickname",value:n,onChange:function(e){var n=e.target.value;n?t(n):x.a.warning({message:">:C",description:"You need to provide a nickname!!!"})},style:{margin:"8px 12px 8px 0",color:"rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,",").concat(o.a,")")}}),Object(r.jsx)(U,{userColor:o,setUserColor:c})]})]})},Y=j.a.div(D()),B=j.a.div(R());function J(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    min-width: 400px;\n"]);return J=function(){return e},e}function M(){var e=Object(d.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n"]);return M=function(){return e},e}var V=b.a.Title,q=b.a.Text,G=j.a.div(M()),H=j.a.div(J());function W(){return Object(r.jsx)(G,{children:Object(r.jsx)(K,{})})}function K(){var e=Object(l.f)(),n=Object(i.useContext)(C).nickname,t=Object(i.useState)(""),o=Object(u.a)(t,2),c=o[0],a=o[1];return Object(r.jsxs)(H,{children:[Object(r.jsx)(V,{level:2,style:{fontWeight:600},children:"Helloooooooo"}),Object(r.jsx)(z,{}),Object(r.jsxs)(Y,{children:[Object(r.jsx)(V,{level:5,style:{margin:0,padding:0},children:"Enter room name"}),Object(r.jsx)(q,{style:{margin:0,padding:0},children:"Should be unique!"}),Object(r.jsx)(v.a,{placeholder:"Room name",value:c,onChange:function(e){a(e.target.value)},style:{margin:"8px 0"}})]}),Object(r.jsx)(Y,{children:Object(r.jsx)(p.a,{type:"primary",onClick:function(){if((null===n||void 0===n?void 0:n.length)&&(null===c||void 0===c?void 0:c.length)){x.a.success({message:"Yay!",description:'You successfully joined a "'.concat(c.toUpperCase(),'" room!')});var t=c.replace(" ","");e.push("/room/".concat(t))}else{var r=[];(null===n||void 0===n?void 0:n.length)||r.push("nickname"),(null===c||void 0===c?void 0:c.length)||r.push("room name"),x.a.warning({message:"Couldn't proceed",description:"You need to provide ".concat(r.join(" and ")," to be able to proceed!")})}},children:"Login"})})]})}var Q=t(290),X=t.n(Q);t(446);function Z(){var e=Object(d.a)(["\n  display: flex;\n\n  > * {\n    flex-grow: ",";\n  }\n"]);return Z=function(){return e},e}var $=j.a.div.attrs((function(e){var n=e.row,t=e.column,r=e.justify,i=e.align,o=e.style,c=Object(f.a)({},o);return n&&(c.flexDirection="row"),t&&(c.flexDirection="column"),r&&(c.justifyContent="center"),i&&(c.alignItems="center"),{style:c}}))(Z(),(function(e){return e.grow?1:"unset"})),_=t(142);function ee(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return ee=function(){return e},e}var ne=j.a.div(ee());function te(e){var n,t=(null!==(n=Object.entries(e.reactions).map((function(e){return{id:e[0],number:e[1]}})))&&void 0!==n?n:[]).map((function(e){var n,t=null===(n=_.find((function(n){return n.id===e.id})))||void 0===n?void 0:n.emoji;return Object(r.jsxs)($,{row:!0,style:{margin:"0 4px"},children:[t," ",null===e||void 0===e?void 0:e.number]})}));return Object(r.jsx)(ne,{children:t})}function re(){var e=Object(d.a)(["\n    background: #FFFFFF;\n    border: 1px solid #E8E8E8;\n    box-sizing: border-box;\n    border-radius: 8px;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 40px;\n"]);return re=function(){return e},e}var ie=b.a.Title,oe=j.a.div(re());function ce(){var e,n,t=Object(i.useContext)(C).roomState,o=null!==(e=null===t||void 0===t||null===(n=t.presentations[null===t||void 0===t?void 0:t.currentPresentation])||void 0===n?void 0:n.name)&&void 0!==e?e:"404 PRESENTATION NOT FOUND";return Object(r.jsxs)(oe,{children:[Object(r.jsx)(ie,{level:1,children:o}),Object(r.jsx)(ie,{level:5,children:"Share your reactions \ud83d\udd25"})]})}function ae(){var e=Object(d.a)(["\n    background: #FFFFFF;\n    box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.08), 0px 1px 2px rgba(0, 0, 0, 0.08), 0px 1px 4px rgba(0, 0, 0, 0.06);\n    border-radius: 80px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 122px;\n    height: 122px;\n    margin: 0 24px;\n    font-size: 42px;\n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.08), 0px 4px 8px rgba(0, 0, 0, 0.06);\n    }\n"]);return ae=function(){return e},e}var se=j.a.div(ae());function le(){var e=Object(i.useContext)(C).socket,n=_.map((function(n){return Object(r.jsx)(se,{onClick:function(){return t=n.id,console.log("hi",e),void(null===e||void 0===e||e.emit("reaction",{type:t}));var t},children:n.emoji})}));return Object(r.jsx)($,{row:!0,justify:!0,align:!0,style:{padding:"24px"},children:n})}function ue(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 4px 8px;\n    border-radius: 8px;\n    margin: 0 4px;\n    font-weight: bold;\n    color: white;\n    background: ",";\n"]);return ue=function(){return e},e}var de=b.a.Title,je=function(e){return"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")")},be=j.a.div(ue(),(function(e){var n=e.userColor;return n.r?je(n):je(m)}));function xe(){var e=Object(i.useContext)(C).roomState;return Object(r.jsxs)($,{column:!0,children:[Object(r.jsxs)($,{row:!0,align:!0,style:{position:"sticky",justifyContent:"flex-start",margin:"4px 0"},children:[Object(r.jsx)(de,{level:5,style:{margin:0},children:"Admins:"}),null===e||void 0===e?void 0:e.users.filter((function(e){return e.isAdmin})).map((function(e){return Object(r.jsxs)(be,{userColor:e.color||m,children:["@",e.user]},e.id)}))]}),Object(r.jsxs)($,{row:!0,align:!0,style:{position:"sticky",justifyContent:"flex-start",margin:"4px 0"},children:[Object(r.jsx)(de,{level:5,style:{margin:0},children:"Online now:"}),null===e||void 0===e?void 0:e.users.filter((function(e){return!e.isAdmin})).map((function(e){return Object(r.jsxs)(be,{userColor:e.color||m,children:["@",e.user]},e.id)}))]})]})}var ve=t(63),pe=t.n(ve);function Oe(){var e=Object(i.useContext)(C).roomState,n=e.soundLevel,t=void 0===n?{clap:0,laugh:0}:n,o=e.users,c=Object(i.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(!1),j=Object(u.a)(d,2),b=j[0],x=j[1],v=Object(i.useState)(!1),p=Object(u.a)(v,2),O=p[0],f=p[1],h=Object(i.useState)(!1),m=Object(u.a)(h,2),g=m[0],y=m[1],w=Object(i.useState)(!1),k=Object(u.a)(w,2),S=k[0],T=k[1],F=Object(i.useState)(!1),P=Object(u.a)(F,2),E=P[0],A=P[1],N=Object(i.useState)(!1),I=Object(u.a)(N,2),U=I[0],R=I[1],D=Object(i.useState)(!1),L=Object(u.a)(D,2),z=L[0],Y=L[1];return Object(i.useEffect)((function(){var e=t.clap,n=t.laugh,r=o.length,i=Math.min(1,e/(2*r)),c=Math.min(1,n/(2*r));i>0&&!s?(l(!0),setTimeout((function(){l(!1)}),8e3)):i>=.25&&!b?(x(!0),setTimeout((function(){x(!1)}),6e3)):i>=.5&&!O?(f(!0),setTimeout((function(){f(!1)}),6e3)):.75!==i||g||(y(!0),setTimeout((function(){y(!1)}),9e3)),c>0&&!S?(T(!0),setTimeout((function(){T(!1)}),3e3)):c>=.25&&!E?(A(!0),setTimeout((function(){A(!1)}),5e3)):c>=.5&&!U?(R(!0),setTimeout((function(){R(!1)}),11e3)):.75!==c||z||(Y(!0),setTimeout((function(){Y(!1)}),9e3))}),[s,b,O,g,S,E,U,z,t,o.length]),Object(r.jsxs)("div",{children:[s&&Object(r.jsx)(pe.a,{src:"/applause-01.mp3",autoPlay:!0}),b&&Object(r.jsx)(pe.a,{src:"/applause-02.mp3",autoPlay:!0}),O&&Object(r.jsx)(pe.a,{src:"/applause-03.mp3",autoPlay:!0}),g&&Object(r.jsx)(pe.a,{src:"/applause-04.mp3",autoPlay:!0}),S&&Object(r.jsx)(pe.a,{src:"/laugh-01.mp3",autoPlay:!0}),E&&Object(r.jsx)(pe.a,{src:"/laugh-02.mp3",autoPlay:!0}),U&&Object(r.jsx)(pe.a,{src:"/laugh-03.mp3",autoPlay:!0}),z&&Object(r.jsx)(pe.a,{src:"/clap.mp3",autoPlay:!0})]})}function fe(){var e=Object(d.a)(["\n    padding: 40px;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return fe=function(){return e},e}var he=b.a.Title,me=b.a.Text,ge=j.a.div(fe());function ye(){var e,n,t=Object(l.g)().roomid,o=Object(i.useContext)(C).roomState,c=null===o||void 0===o?void 0:o.presentations[null!==(e=null===o||void 0===o?void 0:o.currentPresentation)&&void 0!==e?e:0],a=null!==(n=null===c||void 0===c?void 0:c.reactions)&&void 0!==n?n:{};return Object(r.jsxs)(ge,{children:[Object(r.jsx)(me,{children:"Room ID:"}),Object(r.jsxs)($,{row:!0,style:{justifyContent:"space-between"},children:[Object(r.jsx)(he,{level:3,children:t}),Object(r.jsx)(te,{reactions:a})]}),Object(r.jsx)(ce,{}),Object(r.jsx)(le,{}),Object(r.jsx)(xe,{}),Object(r.jsx)(Oe,{})]})}var Ce=t(549),we=t(89);function ke(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: row;\n    padding: 12px;\n    border-radius: 12px;\n    margin: 8px 0;\n    cursor: pointer;\n    &:hover {\n        background: white;\n    }\n"]);return ke=function(){return e},e}function Se(){var e=Object(d.a)(["\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n"]);return Se=function(){return e},e}function Te(){var e=Object(d.a)(["\n    min-width: 32px;\n    min-height: 32px;\n    max-width: 32px;\n    max-height: 32px;\n    border: 2px solid black;\n    border-radius: 20px;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 16px;\n    font-weight: bold;\n    padding: 0;\n    margin-right: 8px;\n"]);return Te=function(){return e},e}var Fe=b.a.Title,Pe=j.a.div.attrs((function(e){var n={};return e.winner&&(n.border="2px solid #E08506"),{style:n}}))(Te()),Ee=j.a.div(Se()),Ae=j.a.div.attrs((function(e){var n={backround:"transparent"};return e.isActive&&(n.background="#FFF1CC"),{style:n}}))(ke());function Ne(){var e,n,t,o=Object(i.useContext)(C),c=o.roomState,a=o.socket,s=null!==(e=null===c||void 0===c?void 0:c.currentPresentation)&&void 0!==e?e:0,l=null===c||void 0===c?void 0:c.resultsVisible,u=l?null!==(n=null===c||void 0===c?void 0:c.presentations.map((function(e){var n,t,r=null!==(t=(null!==(n=Object.values(e.reactions))&&void 0!==n?n:[]).reduce((function(e,n){return e+n}),0))&&void 0!==t?t:0;return Object(f.a)(Object(f.a)({},e),{},{points:r})})))&&void 0!==n?n:[]:null!==(t=null===c||void 0===c?void 0:c.presentations)&&void 0!==t?t:[],d=u.map((function(e,n){var t,i,o,c=0===n,u=null!==(t=e.reactions)&&void 0!==t?t:{};return Object(r.jsx)(we.a,{title:e.name,placement:"left",children:Object(r.jsxs)(Ae,{isActive:n===s,onClick:function(){return e=n,void(null===a||void 0===a||a.emit("setActivePresentation",{presentationIndex:e}));var e},children:[Object(r.jsx)(Pe,{winner:l&&c,children:l&&c?"\ud83c\udfc6":n+1}),Object(r.jsxs)($,{column:!0,children:[Object(r.jsx)(Fe,{level:5,style:{overflow:"hidden"},children:(null===(i=e.name)||void 0===i?void 0:i.length)>30?(null===(o=e.name)||void 0===o?void 0:o.substring(0,27))+"...":e.name}),l&&Object(r.jsx)(te,{reactions:u})]})]})})}));return Object(r.jsx)(Ee,{children:d})}function Ie(){var e=Object(d.a)(["\n    background-color: #FAFAFA;\n    padding: 20px;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    flex-direction: column;\n    border: 1px solid #E8E8E8;\n"]);return Ie=function(){return e},e}var Ue=b.a.Title,Re=j.a.div(Ie());function De(){var e=Object(i.useContext)(C).socket,n=Object(i.useState)(""),t=Object(u.a)(n,2),o=t[0],c=t[1];return Object(r.jsxs)(Re,{children:[Object(r.jsxs)($,{column:!0,style:{border:"1px solid #f0d1d1",borderRadius:"4px",padding:"8px"},children:[Object(r.jsxs)($,{column:!0,children:[Object(r.jsx)(Ue,{level:3,children:"Admin panel"}),Object(r.jsx)(Ue,{level:4,children:"Add a presentation"}),Object(r.jsx)(v.a,{value:o,onChange:function(e){return c(e.target.value)},placeholder:"Insert new title here"}),Object(r.jsx)(p.a,{type:"primary",onClick:function(){null===e||void 0===e||e.emit("addPresentation",{name:o}),x.a.success({message:"Yay!",description:"New presentation added!"}),c("")},style:{margin:"12px 0"},children:"Add"})]}),Object(r.jsxs)($,{column:!0,style:{margin:"12px 0"},children:[Object(r.jsx)(Ue,{level:4,children:"Show voting results"}),Object(r.jsx)(Ce.a,{title:"Are you ABSOLUTELY SURE you want to show voting results? THERE IS NO GOING BACK!!",onConfirm:function(){null===e||void 0===e||e.emit("showResults")},onCancel:function(){},okText:"Do eet",cancelText:"Nope :c",placement:"left",children:Object(r.jsx)(p.a,{type:"primary",danger:!0,children:"Show"})})]})]}),Object(r.jsxs)($,{column:!0,style:{margin:"12px 0"},children:[Object(r.jsx)(Ue,{level:3,children:"Leadership board"}),Object(r.jsx)(Ne,{})]})]})}var Le=t(291),ze=t.n(Le);function Ye(){var e=Object(d.a)(["\n    width: 100vw;\n    height: 100vh;\n"]);return Ye=function(){return e},e}var Be=j.a.div(Ye());function Je(){var e=Object(i.useContext)(C),n=e.startConnection,t=e.nickname,o=Object(l.g)().roomid,c=Object(i.useState)(!1),a=Object(u.a)(c,2),s=a[0],d=a[1];return Object(i.useEffect)((function(){o&&""!==t&&!s&&n(o),""===t&&d(!0)}),[o,t,s]),Object(r.jsxs)(Be,{children:[Object(r.jsxs)(X.a,{percentage:!0,primaryMinSize:70,secondaryInitialSize:20,children:[Object(r.jsx)(ye,{}),Object(r.jsx)(De,{})]}),Object(r.jsx)(ze.a,{visible:s,cancelButtonProps:{style:{visibility:"hidden"}},onOk:function(){return d(!1)},children:Object(r.jsx)(z,{})})]})}t(542);function Me(){return Object(r.jsx)(w,{children:Object(r.jsx)(s.a,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{exact:!0,path:"/",children:Object(r.jsx)(W,{})}),Object(r.jsx)(l.a,{exact:!0,path:"/room/:roomid",children:Object(r.jsx)(Je,{})})]})})})}var Ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,550)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),o(e),c(e)}))};a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Me,{})}),document.getElementById("root")),Ve()}},[[543,1,2]]]);
//# sourceMappingURL=main.2e073293.chunk.js.map